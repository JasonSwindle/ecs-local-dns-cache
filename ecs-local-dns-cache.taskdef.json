{
  "containerDefinitions": [{
      "linuxParameters": {
        "capabilities": {
          "add": [
            "NET_BIND_SERVICE"
          ],
          "drop": [
            "ALL"
          ]
        }
      },
      "cpu": 0,
      "environment": [{
          "name": "DNS_UPSTREAM",
          "value": "172.31.0.2"
        },
        {
          "name": "DNS_PROMETHEUS_PORT",
          "value": "9153"
        },
        {
          "name": "DNS_CACHE_TIME",
          "value": "120"
        },
        {
          "name": "DNS_CACHE_PREFETCH",
          "value": "10"
        },
        {
          "name": "DNS_CACHE_SUCCESS",
          "value": "5000"
        },
        {
          "name": "DNS_HEALTH_PORT",
          "value": "8080"
        },
        {
          "name": "DNS_CACHE_DENIAL",
          "value": "2500"
        }
      ],
      "image": "jasonswindle/ecs-local-dns-cache",
      "dependsOn": [{
        "containerName": "route-creater",
        "condition": "COMPLETE"
      }],
      "essential": true,
      "readonlyRootFilesystem": true,
      "name": "dns-cache"
    },
    {
      "linuxParameters": {
        "capabilities": {
          "add": [
            "NET_ADMIN"
          ],
          "drop": [
            "ALL"
          ]
        }
      },
      "cpu": 0,
      "image": "gliderlabs/hostlocal",
      "essential": false,
      "name": "route-creater"
    },
    {
      "linuxParameters": {
        "capabilities": {
          "add": [
            "NET_BIND_SERVICE"
          ],
          "drop": [
            "ALL"
          ]
        }
      },
      "cpu": 0,
      "environment": [{
          "name": "INTERVAL",
          "value": "5"
        },
        {
          "name": "MAX_FAILURES",
          "value": "5"
        },
        {
          "name": "START_PERIOD",
          "value": "5"
        },
        {
          "name": "HEALTHCHECK_PORT",
          "value": "8080"
        }
      ],
      "image": "jasonswindle/ecs-local-dns-cache-healthcheck",
      "dependsOn": [{
        "containerName": "dns-cache",
        "condition": "START"
      }],
      "essential": true,
      "readonlyRootFilesystem": true,
      "name": "dns-cache-healthcheck"
    }
  ],
  "memory": "128",
  "family": "ecs-local-dns-cache",
  "requiresCompatibilities": [
    "EC2"
  ],
  "networkMode": "host",
  "cpu": "256"
}
